{% extends 'default.html' %}
{% block title %} search {% endblock title %}

{% block content %}
<div class="container px-1">
    <div class="row gx-4">
        <div class="col">
   <div class="p-2 border bg-secondary">
   <form action="" method="get">
       {{ filterset.form.as_table }}
       <input type="submit" value="Найти" />
   </form>
      </div>
        </div>
    </div>
</div>

<h4>Все новости: {{ filterset.qs|length }}</h4>
<ul>
{% if posts %}
    {% for post in filterset.qs %}
   <li>
      <h5><b class="text-center">Заголовок: {{ post.title|truncatechars:30 }}</a></b></h5>
      <h6>Дата публикации: {{ post.time_in|date:'d M Y' }} - {{ post.get_choice_types_display }} </h6>
      <p>Текст: {{ post.content|truncatechars:20 }}</p>
      <hr>
   </li>
{% endfor %}
</ul>
{% else %}
<h3>Новостей нет!</h3>
{% endif %}


{% endblock content %}